(function(){"use strict";var e={3258:function(e,t,a){var n=a(3862),r=a(4870),i=a(3396);const s={class:"navbar-logo"},o={href:"https://github.com/ToneAPI",target:"_blank"},c=["src"],l=(0,i._)("div",{class:"spacer"},null,-1);function u(e,t,a,n,r,u){const d=(0,i.up)("router-link"),f=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i._)("nav",null,[(0,i._)("div",s,[(0,i._)("a",o,[(0,i._)("img",{src:`${e.publicPath}tone_icon.png`},null,8,c)])]),l,(0,i.Wm)(d,{to:"/servers",class:"navbar-element"},{default:(0,i.w5)((()=>[(0,i.Uk)("ServersÂ (Beta)")])),_:1}),(0,i.Wm)(d,{to:"/",class:"navbar-element"},{default:(0,i.w5)((()=>[(0,i.Uk)("Players")])),_:1})])]),(0,i.Wm)(f)],64)}var d=(0,i.aZ)({data(){return{publicPath:"/ToneAPI_webclient/"}}}),f=a(89);const v=(0,f.Z)(d,[["render",u]]);var h=v,p=a(3824),m=a(1020),_=a(7672);const b=(0,m.WB)();(0,n.ri)(h).use(b).use(p.Z).mount("#app");const g=(0,_.D)(),S=new WebSocket("wss://tone.sleepycat.date/v2/client/websocket");function y(e){g.$state.players.filter((t=>(!t.value.filter.server||t.value.filter.server===e.servername)&&(!t.value.filter.weapon||t.value.filter.weapon===e.cause_of_death))).forEach((t=>{t.value.data[e.attacker_id]||(t.value.data[e.attacker_id]=(0,r.iH)({deaths:0,kills:0,max_distance:0,total_distance:0,username:e.attacker_name})),t.value.data[e.victim_id]||(t.value.data[e.victim_id]=(0,r.iH)({deaths:0,kills:0,max_distance:0,total_distance:0,username:e.victim_name})),(0,r.SU)(t.value.data[e.victim_id]).deaths++,(0,r.SU)(t.value.data[e.victim_id]).username=e.victim_name,(0,r.SU)(t.value.data[e.attacker_id]).username=e.attacker_name,e.attacker_id!==e.victim_id&&((0,r.SU)(t.value.data[e.attacker_id]).kills++,(0,r.SU)(t.value.data[e.attacker_id]).total_distance+=e.distance,(0,r.SU)(t.value.data[e.attacker_id]).max_distance=Math.max(e.distance,(0,r.SU)(t.value.data[e.attacker_id]).max_distance))})),g.$state.weapons.filter((t=>(!t.value.filter.server||t.value.filter.server===e.servername)&&(!t.value.filter.player||t.value.filter.player===e.attacker_id))).forEach((t=>{t.value.data[e.cause_of_death]||(t.value.data[e.cause_of_death]=(0,r.iH)({deaths:0,kills:0,max_distance:0,total_distance:0,deaths_while_equipped:0})),e.attacker_id!==e.victim_id&&((0,r.SU)(t.value.data[e.cause_of_death]).kills++,(0,r.SU)(t.value.data[e.cause_of_death]).total_distance+=e.distance,(0,r.SU)(t.value.data[e.cause_of_death]).max_distance=Math.max(e.distance,(0,r.SU)(t.value.data[e.cause_of_death]).max_distance)),(0,r.SU)(t.value.data[e.cause_of_death]).deaths++})),g.$state.servers.filter((t=>!t.value.filter.server||t.value.filter.server===e.servername)).forEach((t=>{t.value.data[e.servername]||(t.value.data[e.servername]=(0,r.iH)({deaths:0,kills:0,max_distance:0,total_distance:0,deaths_while_equipped:0,host:e.host})),e.attacker_id!==e.victim_id&&((0,r.SU)(t.value.data[e.servername]).kills++,(0,r.SU)(t.value.data[e.servername]).total_distance+=e.distance,(0,r.SU)(t.value.data[e.servername]).max_distance=Math.max(e.distance,(0,r.SU)(t.value.data[e.servername]).max_distance)),(0,r.SU)(t.value.data[e.servername]).deaths++}))}S.onmessage=function(e){if("ping"===e.data)return S.send("pong");const t=JSON.parse(e.data);y(t)}},3824:function(e,t,a){var n=a(2483);const r=()=>a.e(855).then(a.bind(a,9855)),i=()=>a.e(981).then(a.bind(a,8981)),s=[{path:"/",name:"home",component:i},{path:"/servers",name:"servers",component:r}],o=(0,n.p7)({history:(0,n.PO)("/ToneAPI_webclient/"),routes:s});t["Z"]=o},7672:function(e,t,a){a.d(t,{D:function(){return u}});a(7658);var n=a(1020),r=a(5130),i=a(4870);function s(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1]&&null!==e[1])))}function o(e,t){try{return e=s(e),t=s(t),r.deepStrictEqual(e,t),!0}catch{return!1}}function c(e,t){return fetch(e).then((e=>{if(!e.ok)throw Error(e.status+" "+e.statusText);if(!e.body)throw Error("ReadableStream not yet supported in this browser.");const a=e.headers.get("Content-Encoding"),n=e.headers.get(a?"X-File-Size":"content-length");if(null===n)throw Error("Response size header unavailable");const r=parseInt(n,10);let i=0;return new Response(new ReadableStream({start(a){const n=e.body.getReader();function s(){n.read().then((({done:e,value:n})=>{if(e)return a.close(),void t(1);n&&(i+=n.byteLength,t(i/r),a.enqueue(n)),s()})).catch((e=>{console.error(e),a.error(e)}))}s()}}))})).catch((e=>{console.error(e)}))}let l;const u=(0,n.Q_)("kill",{state:()=>({servers:[],players:[],weapons:[],maps:[],gamemodes:[],hosts:{},nsServers:void 0}),getters:{getPlayerList:e=>t=>e.players.find((e=>o((0,i.SU)(e).filter,t))),getWeaponList:e=>t=>e.weapons.find((e=>o((0,i.SU)(e).filter,t))),getServerList:e=>t=>e.servers.find((e=>o((0,i.SU)(e).filter,t))),getNSServers:e=>e.nsServers},actions:{fetchPlayers(e){e=s(e);let t=this.players.find((t=>o((0,i.SU)(t).filter,e)));return void 0===t&&(t=(0,i.XI)({filter:e,data:{}}),this.players.push(t)),c("https://tone.sleepycat.date/v2/client/players?"+new URLSearchParams(e),(e=>{t&&((0,i.SU)(t).progress=e,1!==e&&(0,i.oR)(t))})).then((async e=>{t&&((0,i.SU)(t).data=Object.fromEntries(Object.entries(await(e?.json())).map((e=>[e[0],(0,i.iH)(e[1])]))),(0,i.oR)(t))})),t},fetchWeapons(e){e=s(e);let t=this.weapons.find((t=>o((0,i.SU)(t).filter,e)));return t||(t=(0,i.XI)({filter:e,data:{}}),this.weapons.push(t)),c("https://tone.sleepycat.date/v2/client/weapons?"+new URLSearchParams(e),(e=>{t&&((0,i.SU)(t).progress=e,1!==e&&(0,i.oR)(t))})).then((async e=>{t&&((0,i.SU)(t).data=Object.fromEntries(Object.entries(await(e?.json())).map((e=>[e[0],(0,i.iH)(e[1])]))),(0,i.oR)(t))})),t},fetchServers(e){e=s(e);let t=this.servers.find((t=>o((0,i.SU)(t).filter,e)));return t||(t=(0,i.XI)({filter:e,data:{}}),this.servers.push(t)),c("https://tone.sleepycat.date/v2/client/servers?"+new URLSearchParams(e),(e=>{t&&((0,i.SU)(t).progress=e,1!==e&&(0,i.oR)(t))})).then((async e=>{t&&((0,i.SU)(t).data=Object.fromEntries(Object.entries(await(e?.json())).map((e=>[e[0],(0,i.iH)(e[1])]))),(0,i.oR)(t))})),t},fetchNSServers(){return fetch("https://northstar.tf/client/servers").then((async e=>{this.nsServers=await e.json()})),clearInterval(l),l=setInterval((()=>this.fetchNSServers()),6e4),this.nsServers||[]}}})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(o=!1,i<s&&(s=i));if(o){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{855:"0f0129fe",981:"8edc707e"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{855:"b59c8833",981:"7a3bc7bc"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="toneapi_webclient:";a.l=function(n,r,i,s){if(e[n])e[n].push(r);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var f=function(t,a){o.onerror=o.onload=null,clearTimeout(v);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(a)})),t)return t(a)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/ToneAPI_webclient/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var s=function(a){if(i.onerror=i.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=o,i.parentNode&&i.parentNode.removeChild(i),r(c)}};return i.onerror=i.onload=s,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){r=s[n],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise((function(r,i){var s=a.miniCssF(n),o=a.p+s;if(t(s,o))return r();e(n,o,null,r,i)}))},r={377:0,826:0};a.f.miniCss=function(e,t){var a={855:1,981:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={377:0,826:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=i);var s=a.p+a.u(t),o=new Error,c=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}};a.l(s,c,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,s=n[0],o=n[1],c=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(c)var u=c(a)}for(t&&t(n);l<s.length;l++)i=s[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self["webpackChunktoneapi_webclient"]=self["webpackChunktoneapi_webclient"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3258)}));n=a.O(n)})();